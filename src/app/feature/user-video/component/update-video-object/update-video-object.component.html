<ng-container *ngIf="isFormReady">

  <app-form-message [status-message]="statusMessage" [error-message]="errorMessage"></app-form-message>

  <app-upload-file [control-label]="'Video Thumbnail'" [control]="videoThumbnail" [file-constraints]="photoConstraints" [file-id]="'object_or_thumbnail_url'" [file-key]="'objectOrThumbnailUrl'"
                   [file-url]="videoThumbnailUrl" [signed-url-method]="signedUrlForVideoThumbnailMethod" [save-file-method]="saveVideoThumbnailMethod"
                   [delete-file-method]="deleteVideoThumbnailMethod" (upload-details)="handleUploadedThumbnail($event)" #videoThumbnailComponent></app-upload-file>

  <app-upload-file [control-label]="'Video Content'" [control]="videoContent" [file-constraints]="videoConstraints" [file-id]="'object_or_video_url'" [file-key]="'objectOrVideoUrl'"
                   [file-url]="videoContentUrl" [signed-url-method]="signedUrlForVideoMethod" [save-file-method]="saveVideoMethod"
                   [delete-file-method]="deleteVideoMethod" (upload-details)="handleUploadedVideoContent($event)" #videoContentComponent></app-upload-file>

  <div class="form-group">
    <button type="button" class="fright"
            *ngIf="!isFormCompleted"
            [disabled]="canSubmitAndUpdateData"
            (click)="submit($event)">Submit
      <app-submit-loading-icon [is-submitting]="isSubmitting"></app-submit-loading-icon>
    </button>

    <app-success-button [is-form-completed]="isFormCompleted"></app-success-button>
  </div>
</ng-container>

<app-loading-spinner [is-loading]="isLoading"></app-loading-spinner>
