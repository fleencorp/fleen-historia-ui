 <div class="forgot-password-container">

   <app-form-message [status-message]="statusMessage" [error-message]="errorMessage"></app-form-message>
    <div *ngIf="isForgotEmailAddressStage" class="email-address-input-container" [@fadeInOut]="isForgotEmailAddressStage ? 'visible' : 'hidden'">
      <form>

        <div class="form-group">
          <label for="email_address">Email Address:</label>
          <input type="email" [formControl]="emailAddress" id="email_address"/>
          <app-validation-error [control]="emailAddress" [control-label]="'Email Address'" ></app-validation-error>
        </div>

        <div class="form-group">
          <button type="button" class="fright"
                  *ngIf="!isFormCompleted"
                  [disabled]="isSubmitting"
                  (click)="submit()">Submit
            <app-submit-loading-icon [is-submitting]="isSubmitting" [display-icon]="faKey"></app-submit-loading-icon>
          </button>

          <app-success-button [is-form-completed]="isFormCompleted"></app-success-button>
        </div>
      </form>
    </div>

    <div *ngIf="isVerificationCodeStage" class="forgot-password-code-verification-input-container" [@fadeInOut]="isVerificationCodeStage ? 'visible' : 'hidden'">
      <form>

        <div class="form-group">
          <label for="verification_code">Verification Code:</label>
          <input type="text" [formControl]="verificationCode" id="verification_code"/>
          <app-validation-error [control]="verificationCode" [control-label]="'Verification code'"></app-validation-error>
        </div>

        <div class="form-group">
          <button type="button" class="fright"
                  *ngIf="!isFormCompleted"
                  [disabled]="isSendingVerificationCode"
                  (click)="resendCode()">Resend Code
            <app-submit-loading-icon [is-submitting]="isSendingVerificationCode" [display-icon]="faShield"></app-submit-loading-icon>
          </button>
        </div>

        <div class="form-group">
          <button type="button" class="fright"
                  *ngIf="!isFormCompleted"
                  [disabled]="isSubmitting"
                  (click)="submitOtp()">Submit
            <app-submit-loading-icon [is-submitting]="isSubmitting"></app-submit-loading-icon>
          </button>

          <app-success-button [is-form-completed]="isFormCompleted"></app-success-button>
        </div>
      </form>
    </div>

    <app-change-password
      *ngIf="isChangePasswordStage"
      [change-password-type]="changePasswordType"
      [is-submitting]="isSubmitting"
      [is-form-completed]="isFormCompleted"
      (changePassword)="changePassword($event)"></app-change-password>
  </div>
